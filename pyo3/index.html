<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Rust bindings to the Python interpreter."><meta name="keywords" content="rust, rustlang, rust-lang, pyo3"><title>pyo3 - Rust</title><link rel="stylesheet" type="text/css" href="../normalize.css"><link rel="stylesheet" type="text/css" href="../rustdoc.css" id="mainThemeStyle"><link rel="stylesheet" type="text/css" href="../light.css"  id="themeStyle"><link rel="stylesheet" type="text/css" href="../dark.css" disabled ><link rel="stylesheet" type="text/css" href="../ayu.css" disabled ><script id="default-settings" ></script><script src="../storage.js"></script><script src="../crates.js"></script><noscript><link rel="stylesheet" href="../noscript.css"></noscript><link rel="icon" type="image/svg+xml" href="../favicon.svg"><link rel="alternate icon" type="image/png" href="../favicon-16x16.png"><link rel="alternate icon" type="image/png" href="../favicon-32x32.png"><style type="text/css">#crate-search{background-image:url("../down-arrow.svg");}</style></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="sidebar"><div class="sidebar-menu" role="button">&#9776;</div><a href='../pyo3/index.html'><div class='logo-container rust-logo'><img src='../rust-logo.png' alt='logo'></div></a><h2 class="location">Crate pyo3</h2><div class="block version"><div class="narrow-helper"></div><p>Version 0.14.5</p></div><div class="sidebar-elems"><a id="all-types" href="all.html"><p>See all pyo3's items</p></a><div class="block items"><ul><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li></ul></div><div id="sidebar-vars" data-name="pyo3" data-ty="mod" data-relpath=""></div><script defer src="sidebar-items.js"></script></div></nav><div class="theme-picker"><button id="theme-picker" aria-label="Pick another theme!" aria-haspopup="menu" title="themes"><img width="18" height="18" alt="Pick another theme!" src="../brush.svg"></button><div id="theme-choices" role="menu"></div></div><nav class="sub"><form class="search-form"><div class="search-container"><div><select id="crate-search"><option value="All crates">All crates</option></select><input class="search-input"name="search" disabled autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"></div><button type="button" id="help-button" title="help">?</button><a id="settings-menu" href="../settings.html" title="settings"><img width="18" height="18" alt="Change settings" src="../wheel.svg"></a></div></form></nav><section id="main" class="content"><h1 class="fqn"><span class="in-band">Crate <a class="mod" href="#">pyo3</a><button id="copy-path" onclick="copy_path(this)" title="copy path"><img src="../clipboard.svg" width="19" height="18" alt="Copy item import" title="Copy item import to clipboard"></button></span><span class="out-of-band"><span id="render-detail"><a id="toggle-all-docs" href="javascript:void(0)" title="collapse all docs">[<span class="inner">&#x2212;</span>]</a></span><a class="srclink" href="../src/pyo3/lib.rs.html#1-551" title="goto source code">[src]</a></span></h1><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Rust bindings to the Python interpreter.</p>
<p>PyO3 can be used to write native Python modules or run Python code and modules from Rust.</p>
<p>See <a href="https://pyo3.rs/">the guide</a> for a detailed introduction.</p>
<h1 id="pyo3s-object-types" class="section-header"><a href="#pyo3s-object-types">PyO3’s object types</a></h1>
<p>PyO3 has several core types that you should familiarize yourself with:</p>
<h2 id="the-pythonpy-object" class="section-header"><a href="#the-pythonpy-object">The Python&lt;’py&gt; object</a></h2>
<p>Holding the <a href="https://docs.python.org/3/glossary.html#term-global-interpreter-lock">global interpreter lock</a>
(GIL) is modeled with the <a href="prelude/struct.Python.html"><code>Python&lt;'py&gt;</code></a> token.
All APIs that require that the GIL is held require this token as proof
that you really are holding the GIL. It can be explicitly acquired and
is also implicitly acquired by PyO3 as it wraps Rust functions and structs
into Python functions and objects.</p>
<h2 id="the-gil-dependent-types" class="section-header"><a href="#the-gil-dependent-types">The GIL-dependent types</a></h2>
<p>For example <code>&amp;</code><a href="prelude/struct.PyAny.html"><code>PyAny</code></a>.
These are only ever seen as references, with a lifetime that is only valid for as long
as the GIL is held, which is why using them doesn’t require a  <a href="prelude/struct.Python.html"><code>Python&lt;'py&gt;</code></a> token.
The underlying Python object, if mutable, can be mutated through any reference.</p>
<p>See the <a href="https://pyo3.rs/latest/types.html">guide</a> for an explanation of the different Python object types.</p>
<h2 id="the-gil-independent-types" class="section-header"><a href="#the-gil-independent-types">The GIL-independent types</a></h2>
<p>When wrapped in <a href="prelude/struct.Py.html" title="Py"><code>Py</code></a><code>&lt;...&gt;</code>, like with <a href="prelude/struct.Py.html" title="Py"><code>Py</code></a><code>&lt;</code><a href="prelude/struct.PyAny.html"><code>PyAny</code></a><code>&gt;</code> or <a href="prelude/struct.Py.html" title="Py"><code>Py</code></a><code>&lt;SomePyClass&gt;</code>, Python objects
no longer have a limited lifetime which makes them easier to store in structs and pass between functions.
However, you cannot do much with them without a
<a href="prelude/struct.Python.html"><code>Python&lt;'py&gt;</code></a> token, for which you’d need to reacquire the GIL.</p>
<h2 id="pyerr" class="section-header"><a href="#pyerr">PyErr</a></h2>
<p>The vast majority of operations in this library will return <a href="prelude/type.PyResult.html"><code>PyResult&lt;...&gt;</code></a>.
This is an alias for the type <code>Result&lt;..., PyErr&gt;</code>.</p>
<p>A <code>PyErr</code> represents a Python exception. A <code>PyErr</code> returned to Python code will be raised as a Python exception.
Errors from <code>PyO3</code> itself are also exposed as Python exceptions.</p>
<h1 id="feature-flags" class="section-header"><a href="#feature-flags">Feature flags</a></h1>
<p>PyO3 uses <a href="https://doc.rust-lang.org/cargo/reference/features.html">feature flags</a>
to enable you to opt-in to additional functionality. For a detailed description, see
the <a href="https://pyo3.rs/latest/features.html#features-reference">Features Reference chapter of the guide</a>.</p>
<h2 id="default-feature-flags" class="section-header"><a href="#default-feature-flags">Default feature flags</a></h2>
<p>The following features are turned on by default:</p>
<ul>
<li><code>macros</code>: Enables various macros, including all the attribute macros.</li>
</ul>
<h2 id="optional-feature-flags" class="section-header"><a href="#optional-feature-flags">Optional feature flags</a></h2>
<p>The following features are optional:</p>
<ul>
<li><code>abi3</code>: Restricts PyO3’s API to a subset of the full Python API which is guaranteed
by <a href="https://www.python.org/dev/peps/pep-0384/">PEP 384</a> to be forward-compatible with future Python versions.</li>
<li><code>auto-initialize</code>: Changes <a href="prelude/struct.Python.html#method.with_gil"><code>Python::with_gil</code></a> and
<a href="prelude/struct.Python.html#method.acquire_gil"><code>Python::acquire_gil</code></a> to automatically initialize the
Python interpreter if needed.</li>
<li><code>extension-module</code>: This will tell the linker to keep the Python symbols unresolved,
so that your module can also be used with statically linked Python interpreters.
Use this feature when building an extension module.</li>
<li><code>hashbrown</code>: Enables conversions between Python objects and
<a href="https://docs.rs/hashbrown">hashbrown</a>’s
<a href="https://docs.rs/hashbrown/latest/hashbrown/struct.HashMap.html"><code>HashMap</code></a> and
<a href="https://docs.rs/hashbrown/latest/hashbrown/struct.HashSet.html"><code>HashSet</code></a> types.</li>
<li><a href="crate::indexmap"><code>indexmap</code></a>: Enables conversions between Python dictionary and
<a href="https://docs.rs/indexmap">indexmap</a>’s
<a href="https://docs.rs/indexmap/latest/indexmap/map/struct.IndexMap.html"><code>IndexMap</code></a>.</li>
<li><code>multiple-pymethods</code>: Enables the use of multiple
<a href="proc_macro/attr.pymethods.html"><code>#[pymethods]</code></a> blocks per
<a href="proc_macro/attr.pyclass.html"><code>#[pyclass]</code></a>. This adds a dependency on the
<a href="https://docs.rs/inventory"><code>inventory</code></a> crate, which is not supported on all platforms.</li>
<li><a href="./num_bigint/index.html"><code>num-bigint</code></a>: Enables conversions between Python objects and
<a href="https://docs.rs/num-bigint">num-bigint</a>’s
<a href="https://docs.rs/num-bigint/latest/num_bigint/struct.BigInt.html"><code>BigInt</code></a> and
<a href="https://docs.rs/num-bigint/latest/num_bigint/struct.BigUint.html"><code>BigUint</code></a> types.</li>
<li><a href="crate::num_complex"><code>num-complex</code></a>: Enables conversions between Python objects and
<a href="https://docs.rs/num-complex">num-complex</a>’s
<a href="https://docs.rs/num-complex/latest/num_complex/struct.Complex.html"><code>Complex</code></a> type.</li>
<li><code>serde</code>: Allows implementing <a href="https://docs.rs/serde">serde</a>’s
<a href="https://docs.rs/serde/latest/serde/trait.Serialize.html"><code>Serialize</code></a> and
<a href="https://docs.rs/serde/latest/serde/trait.Deserialize.html"><code>Deserialize</code></a> traits for
<a href="prelude/struct.Py.html" title="Py"><code>Py</code></a><code>&lt;T&gt;</code> for all <code>T</code> that implement
<a href="https://docs.rs/serde/latest/serde/trait.Serialize.html"><code>Serialize</code></a> and
<a href="https://docs.rs/serde/latest/serde/trait.Deserialize.html"><code>Deserialize</code></a>.</li>
</ul>
<h2 id="unstable-features" class="section-header"><a href="#unstable-features">Unstable features</a></h2>
<ul>
<li><code>nightly</code>: Gates some optimizations that rely on
<a href="https://github.com/rust-lang/rfcs/blob/master/text/1210-impl-specialization.md"><code>#![feature(specialization)]</code></a>,
for which you’d also need nightly Rust. You should not use this feature.</li>
</ul>
<h2 id="rustc-environment-flags" class="section-header"><a href="#rustc-environment-flags"><code>rustc</code> environment flags</a></h2>
<p>PyO3 uses <code>rustc</code>’s <code>--cfg</code> flags to enable or disable code used for different Python versions.
If you want to do this for your own crate, you can do so with the <a href="https://docs.rs/pyo3-build-config"><code>pyo3-build-config</code></a> crate.</p>
<ul>
<li><code>Py_3_6</code>, <code>Py_3_7</code>, <code>Py_3_8</code>, <code>Py_3_9</code>, <code>Py_3_10</code>: Marks code that is only enabled when compiling for a given minimum Python version.</li>
<li><code>Py_LIMITED_API</code>: Marks code enabled when the <code>abi3</code> feature flag is enabled.</li>
<li><code>PyPy</code> - Marks code enabled when compiling for PyPy.</li>
</ul>
<h1 id="minimum-supported-rust-and-python-versions" class="section-header"><a href="#minimum-supported-rust-and-python-versions">Minimum supported Rust and Python versions</a></h1>
<p>PyO3 supports the following software versions:</p>
<ul>
<li>Python 3.6 and up (CPython and PyPy)</li>
<li>Rust 1.41 and up</li>
</ul>
<h1 id="example-building-a-native-python-module" class="section-header"><a href="#example-building-a-native-python-module">Example: Building a native Python module</a></h1>
<p>PyO3 can be used to generate a native Python module. The easiest way to try this out for the
first time is to use <a href="https://github.com/PyO3/maturin"><code>maturin</code></a>. <code>maturin</code> is a tool for
building and publishing Rust-based Python packages with minimal configuration. The following
steps set up some files for an example Python module, install <code>maturin</code>, and then show how build
and import the Python module.</p>
<p>First, create a new folder (let’s call it <code>string_sum</code>) containing the following two files:</p>
<p><strong><code>Cargo.toml</code></strong></p>
<div class="example-wrap"><pre class="language-toml">[package]
name = &quot;string-sum&quot;
version = &quot;0.1.0&quot;
edition = &quot;2018&quot;

[lib]
name = &quot;string_sum&quot;
crate-type = [&quot;cdylib&quot;]

[dependencies.pyo3]
version = &quot;*&quot;
features = [&quot;extension-module&quot;]</pre></div>
<p><strong><code>src/lib.rs</code></strong></p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">pyo3::prelude</span>::<span class="kw-2">*</span>;

<span class="doccomment">/// Formats the sum of two numbers as string.</span>
<span class="attribute">#[<span class="ident">pyfunction</span>]</span>
<span class="kw">fn</span> <span class="ident">sum_as_string</span>(<span class="ident">a</span>: <span class="ident">usize</span>, <span class="ident">b</span>: <span class="ident">usize</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PyResult</span><span class="op">&lt;</span><span class="ident">String</span><span class="op">&gt;</span> {
    <span class="prelude-val">Ok</span>((<span class="ident">a</span> <span class="op">+</span> <span class="ident">b</span>).<span class="ident">to_string</span>())
}

<span class="doccomment">/// A Python module implemented in Rust.</span>
<span class="attribute">#[<span class="ident">pymodule</span>]</span>
<span class="kw">fn</span> <span class="ident">string_sum</span>(<span class="ident">py</span>: <span class="ident">Python</span>, <span class="ident">m</span>: <span class="kw-2">&amp;</span><span class="ident">PyModule</span>) <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PyResult</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="ident">m</span>.<span class="ident">add_function</span>(<span class="macro">wrap_pyfunction!</span>(<span class="ident">sum_as_string</span>, <span class="ident">m</span>)<span class="question-mark">?</span>)<span class="question-mark">?</span>;

    <span class="prelude-val">Ok</span>(())
}</pre></div>
<p>With those two files in place, now <code>maturin</code> needs to be installed. This can be done using
Python’s package manager <code>pip</code>. First, load up a new Python <code>virtualenv</code>, and install <code>maturin</code>
into it:</p>
<div class="example-wrap"><pre class="language-bash">$ cd string_sum
$ python -m venv .env
$ source .env/bin/activate
$ pip install maturin</pre></div>
<p>Now build and execute the module:</p>
<div class="example-wrap"><pre class="language-bash">$ maturin develop
$ python
&gt;&gt;&gt; import string_sum
&gt;&gt;&gt; string_sum.sum_as_string(5, 20)
&#39;25&#39;</pre></div>
<p>As well as with <code>maturin</code>, it is possible to build using
<a href="https://github.com/PyO3/setuptools-rust"><code>setuptools-rust</code></a> or
<a href="https://pyo3.rs/latest/building_and_distribution.html#manual-builds">manually</a>. Both offer more
flexibility than <code>maturin</code> but require further configuration.</p>
<h1 id="example-using-python-from-rust" class="section-header"><a href="#example-using-python-from-rust">Example: Using Python from Rust</a></h1>
<p>To embed Python into a Rust binary, you need to ensure that your Python installation contains a
shared library. The following steps demonstrate how to ensure this (for Ubuntu), and then give
some example code which runs an embedded Python interpreter.</p>
<p>To install the Python shared library on Ubuntu:</p>
<div class="example-wrap"><pre class="language-bash">sudo apt install python3-dev</pre></div>
<p>Start a new project with <code>cargo new</code> and add  <code>pyo3</code> to the <code>Cargo.toml</code> like this:</p>
<div class="example-wrap"><pre class="language-toml">[dependencies.pyo3]
version = &quot;*&quot;
features = [&quot;auto-initialize&quot;]</pre></div>
<p>Example program displaying the value of <code>sys.version</code> and the current user name:</p>

<div class="example-wrap"><pre class="rust rust-example-rendered">
<span class="kw">use</span> <span class="ident">pyo3::prelude</span>::<span class="kw-2">*</span>;
<span class="kw">use</span> <span class="ident">pyo3::types::IntoPyDict</span>;

<span class="kw">fn</span> <span class="ident">main</span>() <span class="op">-</span><span class="op">&gt;</span> <span class="ident">PyResult</span><span class="op">&lt;</span>()<span class="op">&gt;</span> {
    <span class="ident">Python::with_gil</span>(<span class="op">|</span><span class="ident">py</span><span class="op">|</span> {
        <span class="kw">let</span> <span class="ident">sys</span> <span class="op">=</span> <span class="ident">py</span>.<span class="ident">import</span>(<span class="string">&quot;sys&quot;</span>)<span class="question-mark">?</span>;
        <span class="kw">let</span> <span class="ident">version</span>: <span class="ident">String</span> <span class="op">=</span> <span class="ident">sys</span>.<span class="ident">get</span>(<span class="string">&quot;version&quot;</span>)<span class="question-mark">?</span>.<span class="ident">extract</span>()<span class="question-mark">?</span>;

        <span class="kw">let</span> <span class="ident">locals</span> <span class="op">=</span> [(<span class="string">&quot;os&quot;</span>, <span class="ident">py</span>.<span class="ident">import</span>(<span class="string">&quot;os&quot;</span>)<span class="question-mark">?</span>)].<span class="ident">into_py_dict</span>(<span class="ident">py</span>);
        <span class="kw">let</span> <span class="ident">code</span> <span class="op">=</span> <span class="string">&quot;os.getenv(&#39;USER&#39;) or os.getenv(&#39;USERNAME&#39;) or &#39;Unknown&#39;&quot;</span>;
        <span class="kw">let</span> <span class="ident">user</span>: <span class="ident">String</span> <span class="op">=</span> <span class="ident">py</span>.<span class="ident">eval</span>(<span class="ident">code</span>, <span class="prelude-val">None</span>, <span class="prelude-val">Some</span>(<span class="kw-2">&amp;</span><span class="ident">locals</span>))<span class="question-mark">?</span>.<span class="ident">extract</span>()<span class="question-mark">?</span>;

        <span class="macro">println!</span>(<span class="string">&quot;Hello {}, I&#39;m Python {}&quot;</span>, <span class="ident">user</span>, <span class="ident">version</span>);
        <span class="prelude-val">Ok</span>(())
    })
}</pre></div>
<p>The guide has <a href="https://pyo3.rs/latest/python_from_rust.html">a section</a> with lots of examples
about this topic.</p>
<h1 id="other-examples" class="section-header"><a href="#other-examples">Other Examples</a></h1>
<p>The PyO3 <a href="https://github.com/PyO3/pyo3#readme">README</a> contains quick-start examples for both
using <a href="https://github.com/PyO3/pyo3#using-rust-from-python">Rust from Python</a> and
<a href="https://github.com/PyO3/pyo3#using-python-from-rust">Python from Rust</a>.</p>
<p>The PyO3 repository’s <a href="https://github.com/PyO3/pyo3/tree/main/examples">examples subdirectory</a>
contains some basic packages to demonstrate usage of PyO3.</p>
<p>There are many projects using PyO3 - see a list of some at
<a href="https://github.com/PyO3/pyo3#examples">https://github.com/PyO3/pyo3#examples</a></p>
</div></details><h2 id="reexports" class="section-header"><a href="#reexports">Re-exports</a></h2>
<div class="item-table"><div class="item-left import-item"><code>pub use crate::<a class="mod" href="class/index.html" title="mod pyo3::class">class</a>::*;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.AsPyPointer.html" title="trait pyo3::conversion::AsPyPointer">AsPyPointer</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.FromPyObject.html" title="trait pyo3::conversion::FromPyObject">FromPyObject</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.FromPyPointer.html" title="trait pyo3::conversion::FromPyPointer">FromPyPointer</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.IntoPy.html" title="trait pyo3::conversion::IntoPy">IntoPy</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.IntoPyPointer.html" title="trait pyo3::conversion::IntoPyPointer">IntoPyPointer</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.PyTryFrom.html" title="trait pyo3::conversion::PyTryFrom">PyTryFrom</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.PyTryInto.html" title="trait pyo3::conversion::PyTryInto">PyTryInto</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.ToBorrowedObject.html" title="trait pyo3::conversion::ToBorrowedObject">ToBorrowedObject</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::conversion::<a class="trait" href="conversion/trait.ToPyObject.html" title="trait pyo3::conversion::ToPyObject">ToPyObject</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::pycell::<a class="struct" href="pycell/struct.PyCell.html" title="struct pyo3::pycell::PyCell">PyCell</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::pycell::<a class="struct" href="pycell/struct.PyRef.html" title="struct pyo3::pycell::PyRef">PyRef</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::pycell::<a class="struct" href="pycell/struct.PyRefMut.html" title="struct pyo3::pycell::PyRefMut">PyRefMut</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::pyclass::<a class="trait" href="pyclass/trait.PyClass.html" title="trait pyo3::pyclass::PyClass">PyClass</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::pyclass_init::<a class="struct" href="pyclass_init/struct.PyClassInitializer.html" title="struct pyo3::pyclass_init::PyClassInitializer">PyClassInitializer</a>;</code></div><div class="item-right docblock-short"></div><div class="item-left import-item"><code>pub use crate::type_object::<a class="trait" href="type_object/trait.PyTypeInfo.html" title="trait pyo3::type_object::PyTypeInfo">PyTypeInfo</a>;</code></div><div class="item-right docblock-short"></div></div><h2 id="modules" class="section-header"><a href="#modules">Modules</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="mod" href="buffer/index.html" title="pyo3::buffer mod">buffer</a></div><div class="item-right docblock-short"><p><code>PyBuffer</code> implementation</p>
</div><div class="item-left module-item"><a class="mod" href="class/index.html" title="pyo3::class mod">class</a></div><div class="item-right docblock-short"><p>Python object protocols</p>
</div><div class="item-left module-item"><a class="mod" href="conversion/index.html" title="pyo3::conversion mod">conversion</a></div><div class="item-right docblock-short"><p>Conversions between various states of Rust and Python types and their wrappers.</p>
</div><div class="item-left module-item"><a class="mod" href="exceptions/index.html" title="pyo3::exceptions mod">exceptions</a></div><div class="item-right docblock-short"><p>Exception types defined by Python.</p>
</div><div class="item-left module-item"><a class="mod" href="ffi/index.html" title="pyo3::ffi mod">ffi</a></div><div class="item-right docblock-short"><p>Raw FFI declarations for Python’s C API.</p>
</div><div class="item-left module-item"><a class="mod" href="impl_/index.html" title="pyo3::impl_ mod">impl_</a></div><div class="item-right docblock-short"><p>Internals of PyO3 which are accessed by code expanded from PyO3’s procedural macros. Usage of
any of these APIs in downstream code is implicitly acknowledging that these APIs may change at
any time without documentation in the CHANGELOG and without breaking semver guarantees.</p>
</div><div class="item-left module-item"><a class="mod" href="marshal/index.html" title="pyo3::marshal mod">marshal</a></div><div class="item-right docblock-short"><p>Support for the Python <code>marshal</code> format. Not supported in limited API
builds.</p>
</div><div class="item-left module-item"><a class="mod" href="once_cell/index.html" title="pyo3::once_cell mod">once_cell</a></div><div class="item-right docblock-short"><p>A write-once cell mediated by the Python GIL.</p>
</div><div class="item-left module-item"><a class="mod" href="panic/index.html" title="pyo3::panic mod">panic</a></div><div class="item-right docblock-short"><p>Helper to convert Rust panics to Python exceptions.</p>
</div><div class="item-left module-item"><a class="mod" href="prelude/index.html" title="pyo3::prelude mod">prelude</a></div><div class="item-right docblock-short"><p>A collection of items you most likely want to have in scope when working with pyo3</p>
</div><div class="item-left module-item"><a class="mod" href="proc_macro/index.html" title="pyo3::proc_macro mod">proc_macro</a></div><div class="item-right docblock-short"><p>The proc macros, all of which are part of the prelude.</p>
</div><div class="item-left module-item"><a class="mod" href="pycell/index.html" title="pyo3::pycell mod">pycell</a></div><div class="item-right docblock-short"><p>Includes <code>PyCell</code> implementation.</p>
</div><div class="item-left module-item"><a class="mod" href="pyclass/index.html" title="pyo3::pyclass mod">pyclass</a></div><div class="item-right docblock-short"><p><code>PyClass</code> and related traits.</p>
</div><div class="item-left module-item"><a class="mod" href="pyclass_init/index.html" title="pyo3::pyclass_init mod">pyclass_init</a></div><div class="item-right docblock-short"><p>Initialization utilities for <code>#[pyclass]</code>.</p>
</div><div class="item-left module-item"><a class="mod" href="pyclass_slots/index.html" title="pyo3::pyclass_slots mod">pyclass_slots</a></div><div class="item-right docblock-short"><p>This module contains additional fields for <code>#[pyclass]</code>.
Mainly used by PyO3’s proc-macro code.</p>
</div><div class="item-left module-item"><a class="mod" href="type_object/index.html" title="pyo3::type_object mod">type_object</a></div><div class="item-right docblock-short"><p>Python type object information</p>
</div><div class="item-left module-item"><a class="mod" href="types/index.html" title="pyo3::types mod">types</a></div><div class="item-right docblock-short"><p>Various types defined by the Python interpreter such as <code>int</code>, <code>str</code> and <code>tuple</code>.</p>
</div></div><h2 id="macros" class="section-header"><a href="#macros">Macros</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="macro" href="macro.create_exception.html" title="pyo3::create_exception macro">create_exception</a></div><div class="item-right docblock-short"><p>Defines a new exception type.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.create_exception_type_object.html" title="pyo3::create_exception_type_object macro">create_exception_type_object</a></div><div class="item-right docblock-short"><p><code>impl $crate::type_object::PyTypeObject for $name</code> where <code>$name</code> is an
exception newly defined in Rust code.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.impl_exception_boilerplate.html" title="pyo3::impl_exception_boilerplate macro">impl_exception_boilerplate</a></div><div class="item-right docblock-short"><p>The boilerplate to convert between a Rust type and a Python exception.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.import_exception.html" title="pyo3::import_exception macro">import_exception</a></div><div class="item-right docblock-short"><p>Defines a Rust type for an exception defined in Python code.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.py_run.html" title="pyo3::py_run macro">py_run</a></div><div class="item-right docblock-short"><p>A convenient macro to execute a Python code snippet, with some local variables set.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type.html" title="pyo3::pyobject_native_type macro">pyobject_native_type</a></div><div class="item-right docblock-short"><p>Declares all of the boilerplate for Python types which can be inherited from (because the exact
Python layout is known).</p>
</div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_base.html" title="pyo3::pyobject_native_type_base macro">pyobject_native_type_base</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_core.html" title="pyo3::pyobject_native_type_core macro">pyobject_native_type_core</a></div><div class="item-right docblock-short"><p>Declares all of the boilerplate for Python types.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_extract.html" title="pyo3::pyobject_native_type_extract macro">pyobject_native_type_extract</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_info.html" title="pyo3::pyobject_native_type_info macro">pyobject_native_type_info</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_named.html" title="pyo3::pyobject_native_type_named macro">pyobject_native_type_named</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="macro" href="macro.pyobject_native_type_sized.html" title="pyo3::pyobject_native_type_sized macro">pyobject_native_type_sized</a></div><div class="item-right docblock-short"></div><div class="item-left module-item"><a class="macro" href="macro.wrap_pyfunction.html" title="pyo3::wrap_pyfunction macro">wrap_pyfunction</a></div><div class="item-right docblock-short"><p>Returns a function that takes a <a href="prelude/struct.Python.html" title="Python">Python</a> instance and returns a Python function.</p>
</div><div class="item-left module-item"><a class="macro" href="macro.wrap_pymodule.html" title="pyo3::wrap_pymodule macro">wrap_pymodule</a></div><div class="item-right docblock-short"><p>Returns a function that takes a <a href="prelude/struct.Python.html" title="Python">Python</a> instance and returns a Python module.</p>
</div></div><h2 id="structs" class="section-header"><a href="#structs">Structs</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="struct" href="struct.GILGuard.html" title="pyo3::GILGuard struct">GILGuard</a></div><div class="item-right docblock-short"><p>RAII type that represents the Global Interpreter Lock acquisition.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.GILPool.html" title="pyo3::GILPool struct">GILPool</a></div><div class="item-right docblock-short"><p>A RAII pool which PyO3 uses to store owned Python references.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Py.html" title="pyo3::Py struct">Py</a></div><div class="item-right docblock-short"><p>A GIL-independent reference to an object allocated on the Python heap.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PyAny.html" title="pyo3::PyAny struct">PyAny</a></div><div class="item-right docblock-short"><p>Represents any Python object.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PyDowncastError.html" title="pyo3::PyDowncastError struct">PyDowncastError</a></div><div class="item-right docblock-short"><p>Error that indicates a failure to convert a PyAny to a more specific Python type.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PyErr.html" title="pyo3::PyErr struct">PyErr</a></div><div class="item-right docblock-short"><p>Represents a Python exception that was raised.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.Python.html" title="pyo3::Python struct">Python</a></div><div class="item-right docblock-short"><p>Marker type that indicates that the GIL is currently held.</p>
</div><div class="item-left module-item"><a class="struct" href="struct.PythonVersionInfo.html" title="pyo3::PythonVersionInfo struct">PythonVersionInfo</a></div><div class="item-right docblock-short"><p>Represents the major, minor, and patch (if any) versions of this interpreter.</p>
</div></div><h2 id="traits" class="section-header"><a href="#traits">Traits</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="trait" href="trait.PyErrArguments.html" title="pyo3::PyErrArguments trait">PyErrArguments</a></div><div class="item-right docblock-short"><p>Helper conversion trait that allows to use custom arguments for lazy exception construction.</p>
</div><div class="item-left module-item"><a class="trait" href="trait.PyNativeType.html" title="pyo3::PyNativeType trait">PyNativeType</a></div><div class="item-right docblock-short"><p>Types that are built into the Python interpreter.</p>
</div></div><h2 id="functions" class="section-header"><a href="#functions">Functions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="fn" href="fn.prepare_freethreaded_python.html" title="pyo3::prepare_freethreaded_python fn">prepare_freethreaded_python</a></div><div class="item-right docblock-short"><p>Prepares the use of Python in a free-threaded context.</p>
</div><div class="item-left module-item"><a class="fn" href="fn.with_embedded_python_interpreter.html" title="pyo3::with_embedded_python_interpreter fn">with_embedded_python_interpreter</a><a title="unsafe function" href="#"><sup>⚠</sup></a></div><div class="item-right docblock-short"><p>Executes the provided closure with an embedded Python interpreter.</p>
</div></div><h2 id="types" class="section-header"><a href="#types">Type Definitions</a></h2>
<div class="item-table"><div class="item-left module-item"><a class="type" href="type.PyObject.html" title="pyo3::PyObject type">PyObject</a></div><div class="item-right docblock-short"><p>A commonly-used alias for <code>Py&lt;PyAny&gt;</code>.</p>
</div><div class="item-left module-item"><a class="type" href="type.PyResult.html" title="pyo3::PyResult type">PyResult</a></div><div class="item-right docblock-short"><p>Represents the result of a Python call.</p>
</div></div></section><section id="search" class="content hidden"></section><div id="rustdoc-vars" data-root-path="../" data-current-crate="pyo3" data-search-index-js="../search-index.js" data-search-js="../search.js"></div>
    <script src="../main.js"></script>
</body></html>